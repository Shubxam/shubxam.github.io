[
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "writings",
    "section": "",
    "text": "Introduction to CAPM using Python\n\n\n\n\n\n\n\nFinance\n\n\nPython\n\n\n\n\nThis post serves as an Introduction to Capital Asset Pricing Model in Finance and How to implement it using Python.\n\n\n\n\n\n\nMar 29, 2023\n\n\n7 min\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "writings/2023-03-29-CAPM/index.html",
    "href": "writings/2023-03-29-CAPM/index.html",
    "title": "Introduction to CAPM using Python",
    "section": "",
    "text": "The Capital Asset Pricing Model is a mathematical model used to estimate the expected return of an investment based on its risk level relative to the market.\nGoal is to Check if stock is fairly valued taking into account its risk and time value of money.\nHe identified two types of risk\n\nsystematic: Also called market risk. It is influenced by factors such as interest rates, inflation, recessions and geopolitical events like war. all assets are impacted in similar ways.\nunsystematic: these are risks that are unique to each asset.\n\nThe capital asset pricing model concentrates on measuring systemic risk and its impact on the value of an asset.\nCAPM helps factor in systemic risks to estimate the fair value of an asset and understand the relationship between risk and expected returns.\nShows relationship between systematic risk and expected returns.\nBased on beta, risk free rate, market risk premium.\nWidely used for pricing risky securities because its simple and allows easy comparisons.\nUsed in conjuction with MPT to understand portfolio risk and expected returns.\nThe CAPM was developed in the early 1960s by Financial Economist William Sharpe who built his work on the ideas put forth by Harry Markowitz.\n\n\n\n\nKey Terms for CAPM\n\nExpected Return: It is a well-grounded estimate of the returns an investor can expect over the life of an investment.\nRisk Free Rate: The rate of return an investor would expect from an asset that bears no risk.\n\nIn india it is taken as the 10 year government bond yield since they are backed by the full faith and credit of the Indian Government.\nAs of Dec 23, 2022 it is 7.33%\n\nBeta: It quantifies the riskiness (volatility) of a stock compared with the market.\n\n\\(=1\\)\n\\(&lt;1\\)\n&gt;1\n\nMarket Risk Premium: Historical returns generated by a comparable market.\n\nBriefly put, the CAPM model generates the expected returns of assets given the risk of those assets. This is known as risk-adjusted expected return.\nThe formula is as follows:\n\n\\[ER_i = Rf + \\beta \\times [ER_m - Rf]\\]\nwhere \\(ER_i\\) = Expected Return of Asset\n\\(Rf\\) = Risk Free rate is the rate of return of an asset with zero risk. In india it is taken as the 10 year government bond yield. 7.33%\n\\(\\beta\\) = Beta Value of Stock. It quantifies the riskiness (volatility) of a stock compared with the market.\n\\(ER_m\\) = market premium. Returns generated by market for given tenure.\n\n\n\n\nImportance of beta of companies for investors\nThe CAPM plays a key role in financial modeling and asset valuation\nWhile valuing a stock, an investor uses WACC to find NPV of future cash flows. CAPM is used to calculate cost of equity in calculation of WACC.\nCAPM formula is still widely used because it is simple and allows for easy comparisons of investment alternatives.\nUsed as a tool combined with other methods of evaluating securities, it can play an integral role in helping investment professionals make informed investment decisions.\nit is used in conjunction with modern portfolio theory (MPT) to understand portfolio risk and expected returns.\n\n\n\n\n\n\n\n\nAssumes that risk free rate remains constant. Over an analyst’s chosen investment time horizon, the risk-free rate can fluctuate\n\n\n\n\n\nHow it differentiates from other similar methods\n\nArbitrage Pricing Theory a multi-factor model that looks at multiple factors, grouped into macroeconomic or company-specific factors.\nFAMA French 3 Factor Model expands on CAPM by adding company-size risk and value risk factors to the market risk factors.\n\nWhich one is better?\nDisclaimer (Not a tip to buy selected stocks)"
  },
  {
    "objectID": "writings/2023-03-29-CAPM/index.html#introduction-to-capm",
    "href": "writings/2023-03-29-CAPM/index.html#introduction-to-capm",
    "title": "Introduction to CAPM using Python",
    "section": "",
    "text": "The Capital Asset Pricing Model is a mathematical model used to estimate the expected return of an investment based on its risk level relative to the market.\nGoal is to Check if stock is fairly valued taking into account its risk and time value of money.\nHe identified two types of risk\n\nsystematic: Also called market risk. It is influenced by factors such as interest rates, inflation, recessions and geopolitical events like war. all assets are impacted in similar ways.\nunsystematic: these are risks that are unique to each asset.\n\nThe capital asset pricing model concentrates on measuring systemic risk and its impact on the value of an asset.\nCAPM helps factor in systemic risks to estimate the fair value of an asset and understand the relationship between risk and expected returns.\nShows relationship between systematic risk and expected returns.\nBased on beta, risk free rate, market risk premium.\nWidely used for pricing risky securities because its simple and allows easy comparisons.\nUsed in conjuction with MPT to understand portfolio risk and expected returns.\nThe CAPM was developed in the early 1960s by Financial Economist William Sharpe who built his work on the ideas put forth by Harry Markowitz.\n\n\n\n\nKey Terms for CAPM\n\nExpected Return: It is a well-grounded estimate of the returns an investor can expect over the life of an investment.\nRisk Free Rate: The rate of return an investor would expect from an asset that bears no risk.\n\nIn india it is taken as the 10 year government bond yield since they are backed by the full faith and credit of the Indian Government.\nAs of Dec 23, 2022 it is 7.33%\n\nBeta: It quantifies the riskiness (volatility) of a stock compared with the market.\n\n\\(=1\\)\n\\(&lt;1\\)\n&gt;1\n\nMarket Risk Premium: Historical returns generated by a comparable market.\n\nBriefly put, the CAPM model generates the expected returns of assets given the risk of those assets. This is known as risk-adjusted expected return.\nThe formula is as follows:\n\n\\[ER_i = Rf + \\beta \\times [ER_m - Rf]\\]\nwhere \\(ER_i\\) = Expected Return of Asset\n\\(Rf\\) = Risk Free rate is the rate of return of an asset with zero risk. In india it is taken as the 10 year government bond yield. 7.33%\n\\(\\beta\\) = Beta Value of Stock. It quantifies the riskiness (volatility) of a stock compared with the market.\n\\(ER_m\\) = market premium. Returns generated by market for given tenure.\n\n\n\n\nImportance of beta of companies for investors\nThe CAPM plays a key role in financial modeling and asset valuation\nWhile valuing a stock, an investor uses WACC to find NPV of future cash flows. CAPM is used to calculate cost of equity in calculation of WACC.\nCAPM formula is still widely used because it is simple and allows for easy comparisons of investment alternatives.\nUsed as a tool combined with other methods of evaluating securities, it can play an integral role in helping investment professionals make informed investment decisions.\nit is used in conjunction with modern portfolio theory (MPT) to understand portfolio risk and expected returns.\n\n\n\n\n\n\n\n\nAssumes that risk free rate remains constant. Over an analyst’s chosen investment time horizon, the risk-free rate can fluctuate\n\n\n\n\n\nHow it differentiates from other similar methods\n\nArbitrage Pricing Theory a multi-factor model that looks at multiple factors, grouped into macroeconomic or company-specific factors.\nFAMA French 3 Factor Model expands on CAPM by adding company-size risk and value risk factors to the market risk factors.\n\nWhich one is better?\nDisclaimer (Not a tip to buy selected stocks)"
  },
  {
    "objectID": "writings/2023-03-29-CAPM/index.html#practical-example-in-indian-context-with-python-code-with-code-outputs",
    "href": "writings/2023-03-29-CAPM/index.html#practical-example-in-indian-context-with-python-code-with-code-outputs",
    "title": "Introduction to CAPM using Python",
    "section": "Practical Example (In Indian Context) with Python Code with code outputs",
    "text": "Practical Example (In Indian Context) with Python Code with code outputs\n\nGetting Data\n#importing required libraries\nimport yfinance as yf\n\nimport pandas as pd\n\nimport matplotlib.pyplot as plt\n\nimport numpy as np\n\nimport plotly.express as px\n\nfrom sklearn.linear_model import LinearRegression\n\n#getting historic stock data from yfinance\nstocks_list = ['BHARTIARTL.NS', 'ITC.NS', 'HDFCBANK.NS','^NSEI']\n\ndata = yf.download(stocks_list, period='5y')['Adj Close']\n\ndata.columns = ['BHARTIARTL','HDFCBANK', 'ITC','NIFTY_50']\n\n\nEDA of historic Data\n\n\nNormalize stock prices (so easy to compare)\n\nVisualise all historic prices (normalized)\n\n#Normalizing Stock Prices\n\ndef normalize_prices(df):\n\n    df_ = df.copy()\n\n    for stock in df_.columns:\n\n        df_[stock] = df_[stock]/df_[stock][0]\n\n    return df_\n\nnorm_df = normalize_prices(data)\n\n# Plotting the normalized stock prices\n\nfig = px.line(title = \"Normalized stock prices\")\n\nfor stock in norm_df.columns:\n\n    fig.add_scatter(x = norm_df.index.values, y = norm_df[stock], name = stock)\n\nfig.show()\n\n\n\nChart-1\n\n\n\n\nCalculating Daily Returns (%)\n# Calculating Daily % change in stock prices\n\ndaily_returns = norm_df.pct_change()\n\ndaily_returns.iloc[0,:] = 0\n\n# Boxplot of daily returns (in %)\n\ndaily_returns.boxplot(figsize=(6, 5), grid=False)\n\nplt.title(\"Daily returns of the stocks\")\n\n\n\nplot-2\n\n\n\n\nInterpreting the results\n\n\n\nCAPM Model\n# Initializing empty dictionaries to save results\n\nbeta,alpha = dict(), dict()\n\n# Make a nice subplot\n\nfig, axes = plt.subplots(1,3, dpi=150, figsize=(15,8))\n\naxes = axes.flatten()\n\n# Loop on every stock daily return\n\nfor idx, stock in enumerate(daily_returns.columns.values[:-1]):\n\n    # scatter plot between stocks and the NSE\n\n    daily_returns.plot(kind = \"scatter\", x = \"NIFTY_50\", y = stock, ax=axes[idx])\n\n    # Fit a line (regression using polyfit of degree 1)\n\n    b_, a_ = np.polyfit(daily_returns[\"NIFTY_50\"] ,daily_returns[stock], 1)\n\n    regression_line = b_ * daily_returns[\"NIFTY_50\"] + a_\n\n    axes[idx].plot(daily_returns[\"NIFTY_50\"], regression_line, \"-\", color = \"r\")\n\n    # save the regression coeeficient for the current stock\n\n    beta[stock] = b_\n\n    alpha[stock] = a_\n\nplt.suptitle(\"Beta estimation: regression between NIFTY_50 and individual stock daily performance\", size=20)\n\nplt.show()\n\n\n\nplot-3\n\n\nThe plot generated by the code is a scatterplot with a linear regression line superimposed on top of it. The scatterplot shows the relationship between the daily returns of the NIFTY_50 index and the daily returns of an individual stock. The regression line shows the overall trend in this relationship.\nBy looking at the slope of the regression line, you can determine the beta of the individual stock. Beta is a measure of a stock’s volatility in relation to the overall market. A beta of 1 means that the stock’s price moves in line with the market, while a beta less than 1 means that it is less volatile than the market, and a beta greater than 1 means that it is more volatile.\nYou can also determine the alpha of the individual stock from the intercept of the regression line. Alpha is a measure of the stock’s performance relative to the market. A positive alpha indicates that the stock has outperformed the market, while a negative alpha indicates that it has underperformed the market.\nYou can use the beta and alpha values to compare the relative risk and return of different stocks, and to make informed investment decisions.\n\nCalculating Beta\nkeys = list(beta.keys())\nbeta_3 = dict()\n\nfor k in keys:\n\n    beta_3[k] = [daily_returns[[k,'NIFTY_50']].cov()/daily_returns['NIFTY_50'].var()][0].iloc[0,1]\n\nExplaining beta in terms of Regression between market and stock\nVisualize the regression line #### calculate expected return of stock prices with actual historic returns\n\n# Initialize the expected return dictionary\n\nER = dict()\n\nrf = 0.0733\n\ntrading_days = 250\n\n# Estimate the expected return of the market using the daily returns\n\nrm = daily_returns[\"NIFTY_50\"].mean() * trading_days\n\nfor k in keys:\n\n    # Calculate return for every security using CAPM\n\n    ER[k] = rf + beta[k] * (rm-rf)\n\nfor k in keys:\n\n    print(\"Expected return based on CAPM model for {} is {}%\".format(k, round(ER[k]*100, 2)))\n\n# Calculating historic returns\n\nfor k in keys:\n\n    print('Return based on historical data for {} is {}%'.format(k, round(daily_returns[k].mean() * 100 * trading_days, 2)))\n\n\n\n\n\nConslusion\n\nThe CAPM uses the principles of modern portfolio theory to determine if a security is fairly valued.\nIt relies on assumptions about investor behaviors, risk and return distributions, and market fundamentals that don’t match reality.\nHowever, the underlying concepts of CAPM and the associated efficient frontier can help investors understand the relationship between expected risk and reward as they strive to make better decisions about adding securities to a portfolio."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Shubham Soni",
    "section": "",
    "text": "Shubham Soni is a Post Graduate in Statistics with a background in Computer Science. He has a deep interest in Quantitative Finance and all fields associated. He loves building new things with Python and his favorite band is Coldplay. He is passionate about Quantitative finance."
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Shubham Soni",
    "section": "Education",
    "text": "Education\n\nUniversity of Hyderabad MSc Statistics (2023)\nUniversity of Mumbai (Mithibai College) BSc Computer Science (2020)"
  },
  {
    "objectID": "index.html#experience",
    "href": "index.html#experience",
    "title": "Shubham Soni",
    "section": "Experience",
    "text": "Experience\n\nXumit Capital | Financial Analyst Intern | Dec 2022 - Feb 2023"
  },
  {
    "objectID": "index.html#projects",
    "href": "index.html#projects",
    "title": "Shubham Soni",
    "section": "Projects",
    "text": "Projects"
  },
  {
    "objectID": "projects.html",
    "href": "projects.html",
    "title": "Projects",
    "section": "",
    "text": "No matching items"
  }
]